<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>计算机网络协议 | Mozi&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="" />
    
    <meta name="description" content="本文总结计算机网络各种协议的知识点
OSI(Open System Interconnection开放式系统互联)分层(7层)：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。Linux TCP/IP分层(4层)：网络接口层（物理层+数据链路层）、网际层（网络层）、运输层（传输层）、应用层（会话层+表示层+应用层）。五层协议(5层)：物理层、数据链路层、网络层、运输层、应用层。
常见协">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络协议">
<meta property="og:url" content="https://mozi030.github.io/2017/04/11/计算机网络协议/index.html">
<meta property="og:site_name" content="Mozi's Blog">
<meta property="og:description" content="本文总结计算机网络各种协议的知识点
OSI(Open System Interconnection开放式系统互联)分层(7层)：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。Linux TCP/IP分层(4层)：网络接口层（物理层+数据链路层）、网际层（网络层）、运输层（传输层）、应用层（会话层+表示层+应用层）。五层协议(5层)：物理层、数据链路层、网络层、运输层、应用层。
常见协">
<meta property="og:image" content="https://mozi030.github.io/2017/04/11/计算机网络协议/IP_format.jpg">
<meta property="og:updated_time" content="2017-04-17T01:02:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="计算机网络协议">
<meta name="twitter:description" content="本文总结计算机网络各种协议的知识点
OSI(Open System Interconnection开放式系统互联)分层(7层)：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。Linux TCP/IP分层(4层)：网络接口层（物理层+数据链路层）、网际层（网络层）、运输层（传输层）、应用层（会话层+表示层+应用层）。五层协议(5层)：物理层、数据链路层、网络层、运输层、应用层。
常见协">
<meta name="twitter:image" content="https://mozi030.github.io/2017/04/11/计算机网络协议/IP_format.jpg">
    

    
        <link rel="alternate" href="/" title="Mozi&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    

</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Computer-Network/">Computer Network</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-计算机网络协议" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        计算机网络协议
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/04/11/计算机网络协议/" class="article-date">
            <time datetime="2017-04-11T08:35:47.000Z" itemprop="datePublished">2017-04-11</time>
        </a>
    </div>

                
            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>本文总结计算机网络各种协议的知识点</p>
<p>OSI(Open System Interconnection开放式系统互联)分层(7层)：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。<br>Linux TCP/IP分层(4层)：网络接口层（物理层+数据链路层）、网际层（网络层）、运输层（传输层）、应用层（会话层+表示层+应用层）。<br>五层协议(5层)：物理层、数据链路层、网络层、运输层、应用层。</p>
<p>常见协议有：<br>物理层：RJ45、CLOCK、IEEE802.3 (中继器,集线器)<br>数据链路：PPP、FR、HDLC、VLAN、MAC (网桥,交换机)<br>网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 (路由器)<br>传输层：TCP、UDP、SPX<br>会话层：NFS、SQL、NETBIOS、RPC<br>表示层：JPEG、MPEG、ASII<br>应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS </p>
<p>下面分层介绍：</p>
<h2 id="物理层"><a href="#u7269_u7406_u5C42" class="headerlink" title="物理层"></a>物理层</h2><p>通过媒介传输比特,确定机械及电气规范(比特Bit)</p>
<h2 id="数据链路层"><a href="#u6570_u636E_u94FE_u8DEF_u5C42" class="headerlink" title="数据链路层"></a>数据链路层</h2><p>将比特组装成帧和点到点的传递(帧Frame)</p>
<h2 id="网络层"><a href="#u7F51_u7EDC_u5C42" class="headerlink" title="网络层"></a>网络层</h2><p>负责数据包从源到宿的传递和网际互连(包PackeT)</p>
<h3 id="ip协议"><a href="#IP_u534F_u8BAE" class="headerlink" title="IP协议"></a>IP协议</h3><p>IP协议为用户和远程计算机提供了信息包的传输方法，确保信息包能正确地到达目的机器。</p>
<h3 id="ip地址分类"><a href="#IP_u5730_u5740_u5206_u7C7B" class="headerlink" title="IP地址分类"></a>IP地址分类</h3><p>A类地址：以0开头，第一个字节范围是0~126：(1.0.0.0 ~ 126.255.255.255)<br>B类地址：以10开头, 第一个字节范围:128~191(128.0.0.0 - 191.255.255.255)<br>C类地址：以110开头, 第一个字节范围:192~223(192.0.0.0 - 223.255.255.255)<br>内网地址：10.0.0.0—10.255.255.255, 172.16.0.0—172.31.255.255, 192.168.0.0—192.168.255.255。<br>网络号：可由IP地址和子网掩码取&amp;得到</p>
<p>IP报文格式:<br><img src="/2017/04/11/计算机网络协议/IP_format.jpg" alt="IP_format.jpg" title=""></p>
<h3 id="arpaddress-resolution-protocol地址解释协议"><a href="#ARP_28Address_Resolution_Protocol_u5730_u5740_u89E3_u91CA_u534F_u8BAE_29" class="headerlink" title="ARP(Address Resolution Protocol地址解释协议)"></a>ARP(Address Resolution Protocol地址解释协议)</h3><p>根据IP地址获取MAC地址的一个TCP/IP协议。<br>OSI模型把网络工作分为七层，IP地址在OSI模型的第三层，MAC地址在第二层，彼此不直接打交道。在通过以太网发送IP数据包时，需要先封装第三层（32位IP地址）、第二层（48位MAC地址）的报头，但由于发送时只知道目标IP地址，不知道其MAC地址，又不能跨第二、三层，所以需要使用地址解析协议。使用地址解析协议，可根据网络层IP数据包包头中的IP地址信息解析出目标硬件地址（MAC地址）信息，以保证通信的顺利进行。<br>(1)每个主机都有自己的ARP缓冲区，这个缓冲区有一个ARP列表，用来储存各种IP地址和其对应的MAC地址。<br>(2)当源主机要发送数据时，会从自己的ARP表中从出所需IP地址对应的MAC地址，如果能找到就直接发送。<br>(3)如果没有找到，就广播ARP请求给网络中的所有主机，请求数据包中有源主机IP地址，源主机MAC地址，目的主机的IP地址。当其他主机收到请求后会检查ARP请求数据包中的IP地址是否为自己，不是就直接忽略这个包。之后目的主机收到数据包后，才会处理：从数据包中取出源主机的IP和MAC地址写入到自己的ARP列表中（会覆盖原有的源主机MAC地址），然后将自己的MAC地址写入ARP响应包中，单播给源主机，告诉源主机自己是它想要找的MAC地址。<br>(4)源主机收到ARP响应包后，将目的主机的IP和MAC地址写入ARP列表，之后就可以执行(2)的操作。</p>
<h3 id="rarp反向地址转换协议"><a href="#RARP_28_u53CD_u5411_u5730_u5740_u8F6C_u6362_u534F_u8BAE_29" class="headerlink" title="RARP(反向地址转换协议)"></a>RARP(反向地址转换协议)</h3><h3 id="icmp协议internet-control-message-protocol因特网控制报文协议"><a href="#ICMP_u534F_u8BAE_28Internet_Control_Message_Protocol_u56E0_u7279_u7F51_u63A7_u5236_u62A5_u6587_u534F_u8BAE_29" class="headerlink" title="ICMP协议(Internet Control Message Protocol因特网控制报文协议)"></a>ICMP协议(Internet Control Message Protocol因特网控制报文协议)</h3><p>ICMP就是一个“错误侦测与回报机制”，其目的就是让我们能够检测网路的连线状况，也能确保连线的准确性。<br>(1)是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息，包括报告错误、交换受限控制和状态信息等。<br>(2)控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。<br>(3)当遇到IP数据无法访问目标、IP路由器无法按当前的传输速率转发数据包等情况时，会自动发送ICMP消息。ICMP报文在IP帧结构的首部协议类型字段（Protocol 8bit)的值=1<br>(4)但是ICMP唯一的功能是报告问题而不是纠正错误，纠正错误的任务由发送方完成。<br>(5)我们在网络中经常会使用到ICMP协议，比如我们经常使用的用于检查网络通不通的Ping命令（Linux和Windows中均有），这个“Ping”的过程实际上就是ICMP协议工作的过程。还有其他的网络命令如跟踪路由的Tracert命令也是基于ICMP协议的。</p>
<h3 id="tftp协议"><a href="#TFTP_u534F_u8BAE" class="headerlink" title="TFTP协议"></a>TFTP协议</h3><p>是TCP/IP协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。</p>
<h2 id="传输层"><a href="#u4F20_u8F93_u5C42" class="headerlink" title="传输层"></a>传输层</h2><p>提供端到端的可靠报文传递和错误恢复(段Segment)</p>
<h3 id="tcptransmission-control-protocol传输控制协议"><a href="#TCP_28Transmission_Control_Protocol_u4F20_u8F93_u63A7_u5236_u534F_u8BAE_29" class="headerlink" title="TCP(Transmission Control Protocol传输控制协议)"></a>TCP(Transmission Control Protocol传输控制协议)</h3><p>TCP建立在IP之上，定义了网络上程序到程序的数据传输格式和规则，提供了IP数据包的传输确认、丢失数据包的重新请求、将收到的数据包按照它们的发送次序重新装配的机制。<br>(1)TCP建立连接的3次握手：<br>第一次握手：客户端发送SYN包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认;<br>第二次握手：服务器收到syn包，必须确认客户的SYN(ack=j+1)，同时自己也发送一个SYN包(syn=k)，即SYN+ACK包，此时服务器进入SYN_RECV状态;<br>第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。<br>(2)TCP断开连接的4次挥手：<br>断开连接时服务器和客户端均可以主动发起断开TCP连接的请求，断开过程需要经过“四次握手”<br>第一次挥手：主动关闭方发送一个FIN，用来关闭主动方到被动关闭方的数据传送，也就是主动关闭方告诉被动关闭方：我已经不会再给你发数据了（当然，在FIN包之前发送出去的数据，如果没有收到对应的ACK确认报文，主动关闭方依然会重发这些数据)，但是，此时主动关闭方还可以接受数据。<br>第二次挥手：被动关闭方收到FIN包后，发送一个ACK(fin+1)给对方。<br>第三次挥手：被动关闭方发送一个FIN，用来关闭被动关闭方到主动关闭方的数据传送，也就是告诉主动关闭方，我的数据也发送完了，不会再给你发数据了。<br>第四次挥手：主动关闭方收到FIN后，发送一个ACK(fin+1)给被动关闭方。</p>
<h3 id="udpuser-datagram-protocol用户数据报协议"><a href="#UDP_28User_Datagram_Protocol_u7528_u6237_u6570_u636E_u62A5_u534F_u8BAE_29" class="headerlink" title="UDP(User Datagram Protocol用户数据报协议)"></a>UDP(User Datagram Protocol用户数据报协议)</h3><p>UDP也建立在IP之上，但它是一种无连接协议，所以不保证数据的传输，也不提供重新排列次序或重新请求的功能，所以说它是不可靠的。<br>UDP有不提供数据包分组、组装和不能对数据包进行排序的缺点，也就是说，当报文发送之后，是无法得知其是否安全完整到达的.<br>通常音频、视频和普通数据在传送时使用UDP较多，因为它们即使偶尔丢失一两个数据包，也不会对接收结果产生太大影响。比如我们聊天用的ICQ和QQ就是使用的UDP协议。</p>
<h3 id="tcp和udp区别"><a href="#TCP_u548CUDP_u533A_u522B" class="headerlink" title="TCP和UDP区别"></a>TCP和UDP区别</h3><p>1、TCP是面向链接的，虽然说网络的不安全不稳定特性决定了多少次握手都不能保证连接的可靠性，但TCP的三次握手在最低限度上(实际上也很大程度上保证了)保证了连接的可靠性;而UDP不是面向连接的，UDP传送数据前并不与对方建立连接，对接收到的数据也不发送确认信号，发送端不知道数据是否会正确接收，当然也不用重发，所以说UDP是无连接的、不可靠的一种数据传输协议。<br>2、也正由于1所说的特点，使得UDP的开销更小数据传输速率更高，因为不必进行收发数据的确认，所以UDP的实时性更好。<br>知道了TCP和UDP的区别，就不难理解为何采用TCP传输协议的MSN比采用UDP的QQ传输文件慢了，但并不能说QQ的通信是不安全的，因为程序员可以手动对UDP的数据收发进行验证，比如发送方对每个数据包进行编号然后由接收方进行验证，即使是这样，UDP因为在底层协议的封装上没有采用类似TCP的“三次握手”而实现了TCP所无法达到的传输效率。</p>
<h2 id="会话层"><a href="#u4F1A_u8BDD_u5C42" class="headerlink" title="会话层"></a>会话层</h2><p>建立、管理和终止会话(会话协议数据单元 SPDU)</p>
<h2 id="表示层"><a href="#u8868_u793A_u5C42" class="headerlink" title="表示层"></a>表示层</h2><p>对数据进行翻译、加密和压缩(表示协议数据单元 PPDU)</p>
<h2 id="应用层"><a href="#u5E94_u7528_u5C42" class="headerlink" title="应用层"></a>应用层</h2><p>允许访问 OSI 环境的手段(应用协议数据单元 APDU)<br>我们在传输数据时，可以只使用(传输层)TCP/IP协议，但是那样的话，如果没有应用层，便无法识别数据内容。如果想要使传输的数据有意义，则必须使用到应用层协议。<br>常见的应用层协议有：HTTP、FTP、Telnet、SMTP和Gopher等。</p>
<h3 id="http"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p>超文本传输协议，是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。HTTP协议又是基于传输层的TCP协议的<br>HTTP连接最显著的特点是客户端发送的每次请求都需要服务器回送响应，在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”。</p>
<h4 id="http报文格式"><a href="#HTTP_u62A5_u6587_u683C_u5F0F" class="headerlink" title="HTTP报文格式"></a>HTTP报文格式</h4><h5 id="请求报文"><a href="#u8BF7_u6C42_u62A5_u6587_uFF1A" class="headerlink" title="请求报文："></a>请求报文：</h5><img src="/2017/04/11/计算机网络协议/http_request_format.png" alt="http_request_format.png" title="">
<h5 id="响应报文"><a href="#u54CD_u5E94_u62A5_u6587_uFF1A" class="headerlink" title="响应报文："></a>响应报文：</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 200 OK</div><div class="line">Date: Sat, 31 Dec 2005 23:59:59 GMT</div><div class="line">Content-Type: text/html;charset=ISO-8859-1</div><div class="line">Content-Length: 122</div><div class="line"></div><div class="line">＜html＞</div><div class="line">	＜head＞</div><div class="line">		＜title＞Wrox Homepage＜/title＞</div><div class="line">	＜/head＞</div><div class="line">	＜body＞</div><div class="line">		＜!-- body code --＞</div><div class="line">	＜/body＞</div><div class="line">＜/html＞</div></pre></td></tr></table></figure>
<p>其格式为：<br>＜status-line＞<br>＜headers＞<br>＜blank line＞<br>[＜response-body＞]<br>HTTP响应也由三个部分组成，分别是：状态行、消息报头、响应正文。<br>状态行（status line）通过提供一个状态码来说明所请求的资源情况。<br>状态行格式：HTTP-Version Status-Code Reason-Phrase CRLF<br>状态代码由三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：<br>1xx：指示信息–表示请求已接收，继续处理。<br>2xx：成功–表示请求已被成功接收、理解、接受。<br>3xx：重定向–要完成请求必须进行更进一步的操作。<br>4xx：客户端错误–请求有语法错误或请求无法实现。<br>5xx：服务器端错误–服务器未能实现合法的请求<br>常见状态代码、状态描述的说明如下：<br>200 OK：客户端请求成功。<br>400 Bad Request：客户端请求有语法错误，不能被服务器所理解。<br>401 Unauthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用。<br>403 Forbidden：服务器收到请求，但是拒绝提供服务。<br>404 Not Found：请求资源不存在，举个例子：输入了错误的URL。<br>500 Internal Server Error：服务器发生不可预期的错误。<br>503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常，举个例子：HTTP/1.1 200 OK（CRLF）</p>
<h4 id="get与post的区别"><a href="#GET_u4E0EPOST_u7684_u533A_u522B" class="headerlink" title="GET与POST的区别"></a>GET与POST的区别</h4><p>(1)GET中，请求的数据会附在URL之后（就是把数据放置在HTTP协议头＜request-line＞中），以?分割URL和传输数据，多个参数用&amp;连接，e.g. login.action?name=mozi&amp;password=123。如果数据是英文字母/数字，原样发送，如果是空格，转换为+，如果是中文/其他字符，则直接把字符串用BASE64加密，得出像%E4%BD%A0%E5%A5%BD的字符串，其中％XX中的XX为该符号以16进制表示的ASCII。而在POST中，把提交的数据放置在是HTTP包的包体＜request-body＞中。因此，GET提交的数据会在地址栏中显示出来，而POST提交，地址栏不会改变。<br>(2)数据大小：HTTP协议没有对传输的数据大小进行限制，HTTP协议规范也没有对URL长度进行限制。而在实际开发中存在的限制主要有：<br>GET：特定浏览器和服务器对URL长度有限制，例如IE对URL长度的限制是2083字节(2K+35)。对于其他浏览器，如Netscape、FireFox等，理论上没有长度限制，其限制取决于操作系统的支持。因此对于GET提交时，传输数据就会受到URL长度的限制。<br>POST：由于不是通过URL传值，理论上数据不受限。但实际各个WEB服务器会规定对post提交数据大小进行限制，Apache、IIS6都有各自的配置。<br>(3)POST的安全性要比GET的安全性高。注意：这里所说的安全性和上面GET提到的“安全”不是同个概念。上面“安全”的含义仅仅是不作数据修改，而这里安全的含义是真正的Security的含义，比如：通过GET提交数据，用户名和密码将明文出现在URL上，因为(1)登录页面有可能被浏览器缓存，(2)其他人查看浏览器的历史纪录，那么别人就可以拿到你的账号和密码了。</p>
<h3 id="ftp文件传输协议"><a href="#FTP_28_u6587_u4EF6_u4F20_u8F93_u534F_u8BAE_29" class="headerlink" title="FTP(文件传输协议)"></a>FTP(文件传输协议)</h3><h2 id="socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h2><p>socket则是对TCP/IP协议的封装和应用(程序员层面上)，Socket本身并不是协议，而是一个调用接口(API)。所以说，Socket的出现只是使得程序员更方便地使用TCP/IP协议栈而已，是对TCP/IP协议的抽象，从而形成了我们知道的一些最基本的函数接口，比如create、listen、connect、accept、send、read和write等等。</p>
<h3 id="利用socket建立网络连接的步骤"><a href="#u5229_u7528Socket_u5EFA_u7ACB_u7F51_u7EDC_u8FDE_u63A5_u7684_u6B65_u9AA4" class="headerlink" title="利用Socket建立网络连接的步骤"></a>利用Socket建立网络连接的步骤</h3><p>Socket的建立至少需要两个，其中一个运行于客户端，称为ClientSocket，另一个运行于服务器端，称为ServerSocket。套接字之间的连接过程分为三个步骤：服务器监听，客户端请求，连接确认。<br>1、服务器监听：ServerSocket并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，等待客户端的连接请求。<br>2、客户端请求：ClientSocket提出连接请求，要连接的目标是ServerSocket。为此，客户端的套接字必须提供服务器端套接字的地址和端口号，然后就向服务器端套接字提出连接请求。<br>3、连接确认：当服务器端套接字监听到或者说接收到客户端套接字的连接请求时，就响应客户端套接字的请求，开一个新的线程，把服务器端套接字的描述发给客户端，一旦客户端确认了此描述，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接收其他客户端套接字的连接请求。</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://mozi030.github.io/2017/04/11/计算机网络协议/" data-id="cj4objvoy001547e9u4becqyl" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="/" target="_blank">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/mozi030" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/04/19/数据库索引/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            数据库索引
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2017/04/08/c-虚函数/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">c++虚函数</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/05/04/图论-二/" class="thumbnail">
    
    
        <span style="background-image:url(concept1.png)" alt="图论(二)Maximum Flow" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Algorithm/">Algorithm</a></p>
                            <p class="item-title"><a href="/2017/05/04/图论-二/" class="title">图论(二)Maximum Flow</a></p>
                            <p class="item-date"><time datetime="2017-05-04T03:14:40.000Z" itemprop="datePublished">2017-05-04</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/24/图论-一/" class="thumbnail">
    
    
        <span style="background-image:url(/2017/04/24/图论-一/basic1.png)" alt="图论(一):BFS,DFS,MST,Dijkstra" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Algorithm/">Algorithm</a></p>
                            <p class="item-title"><a href="/2017/04/24/图论-一/" class="title">图论(一):BFS,DFS,MST,Dijkstra</a></p>
                            <p class="item-date"><time datetime="2017-04-24T15:36:29.000Z" itemprop="datePublished">2017-04-24</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/21/Collection-Map及其相关-二/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/2017/04/21/Collection-Map及其相关-二/" class="title">Collection&amp;Map及其相关(二)</a></p>
                            <p class="item-date"><time datetime="2017-04-21T04:53:34.000Z" itemprop="datePublished">2017-04-21</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/19/数据库索引/" class="thumbnail">
    
    
        <span style="background-image:url(/2017/04/19/数据库索引/index1.png)" alt="数据库索引" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/DataBase/">DataBase</a></p>
                            <p class="item-title"><a href="/2017/04/19/数据库索引/" class="title">数据库索引</a></p>
                            <p class="item-date"><time datetime="2017-04-19T02:27:24.000Z" itemprop="datePublished">2017-04-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/11/计算机网络协议/" class="thumbnail">
    
    
        <span style="background-image:url(/2017/04/11/计算机网络协议/IP_format.jpg)" alt="计算机网络协议" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Computer-Network/">Computer Network</a></p>
                            <p class="item-title"><a href="/2017/04/11/计算机网络协议/" class="title">计算机网络协议</a></p>
                            <p class="item-date"><time datetime="2017-04-11T08:35:47.000Z" itemprop="datePublished">2017-04-11</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer-Network/">Computer Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataBase/">DataBase</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a><span class="category-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/">BFS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Collection/">Collection</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/">DFS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dijkstra/">Dijkstra</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MST/">MST</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Map/">Map</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maximum-Flow/">Maximum Flow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Set/">Set</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitwise/">bitwise</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/graph/">graph</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/Collection/" style="font-size: 10px;">Collection</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/Dijkstra/" style="font-size: 10px;">Dijkstra</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/MST/" style="font-size: 10px;">MST</a> <a href="/tags/Map/" style="font-size: 10px;">Map</a> <a href="/tags/Maximum-Flow/" style="font-size: 10px;">Maximum Flow</a> <a href="/tags/Set/" style="font-size: 10px;">Set</a> <a href="/tags/bitwise/" style="font-size: 10px;">bitwise</a> <a href="/tags/graph/" style="font-size: 10px;">graph</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2017 Ziliang, Ken, Mo</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://mozi030.github.io/2017/04/11/计算机网络协议/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
